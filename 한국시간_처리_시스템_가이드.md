# 🕐 AI CAMP 한국시간 처리 시스템 완전 가이드

## 📋 시스템 개요

AI CAMP 시스템에서 이메일 발송시간, 신청접수시간 등 모든 시간 기록을 한국시간(KST)으로 정확하게 처리하는 통합 시스템입니다.

### 🎯 개발 목적

- ✅ 이메일 발송시간의 정확한 한국시간 기록
- ✅ 신청접수시간의 일관된 한국시간 표시
- ✅ PDF 파일명 및 로그에서의 한국시간 활용
- ✅ 다양한 형식으로 한국시간 출력 지원
- ✅ 월, 일, 시, 연도 개별 요소 접근 가능

### 📅 기준 시간

**2025년 7월 27일 한국시간 기준으로 시스템 통합 완료**

## 🔧 핵심 함수들

### 1. 기본 한국시간 함수

```javascript
getCurrentKoreanTime()
// 출력: "2025. 07. 27. 오후 02:30:45"
```

### 2. 다양한 형식 제공 함수

```javascript
getKoreanTimeFormats()
// 반환: {
//   full: "2025. 07. 27. 오후 02:30:45",
//   date: "2025. 07. 27.",
//   time: "오후 02:30:45",
//   datetime: "2025-07-27 14:30:45",
//   emailFull: "2025년 07월 27일 오후 02시 30분",
//   emailShort: "07월 27일 오후 02시 30분",
//   reception: "2025년 07월 27일 오후 02:30",
//   receptionFull: "2025년 07월 27일 (토) 오후 02시 30분 45초",
//   year: "2025",
//   month: "07",
//   day: "27",
//   hour: "14",
//   minute: "30",
//   second: "45",
//   weekday: "토",
//   weekdayFull: "토요일",
//   iso: "2025-07-27T14:30:45",
//   filename: "20250727_143045",
//   log: "[2025-07-27 14:30:45 KST]"
// }
```

### 3. 이메일 발송시간 전용 함수

```javascript
getEmailSendTime()
// 반환: {
//   display: "2025년 07월 27일 오후 02시 30분",  // 이메일 표시용
//   log: "[2025-07-27 14:30:45 KST]",           // 로그 기록용
//   simple: "07월 27일 오후 02시 30분"          // 간단 표시용
// }
```

### 4. 신청접수시간 전용 함수

```javascript
getReceptionTime()
// 반환: {
//   display: "2025년 07월 27일 (토) 오후 02시 30분 45초",  // 완전한 표시
//   simple: "2025년 07월 27일 오후 02:30",               // 간단 표시
//   date: "2025. 07. 27.",                             // 날짜만
//   datetime: "2025-07-27 14:30:45"                    // DB 저장용
// }
```

### 5. PDF 파일명용 타임스탬프

```javascript
getPdfTimestamp()
// 반환: {
//   filename: "20250727_143045",    // 파일명용
//   display: "2025. 07. 27."       // 표시용
// }
```

### 6. 로그 기록용 타임스탬프

```javascript
getLogTimestamp()
// 반환: "[2025-07-27 14:30:45 KST]"
```

### 7. 개별 시간 요소 접근

```javascript
getKoreanTimeComponents()
// 반환: {
//   year: "2025",      // 연도
//   month: "07",       // 월
//   day: "27",         // 일
//   hour: "14",        // 시
//   minute: "30",      // 분
//   second: "45",      // 초
//   weekday: "토",     // 요일(짧은형)
//   weekdayFull: "토요일"  // 요일(긴형)
// }
```

## 📧 이메일 시스템 적용

### 이메일 발송시간 기록

```javascript
// 기존 (변경 전)
• 발송 시간: ${getCurrentKoreanTime()}

// 개선 (변경 후)
• 발송 시간: ${getEmailSendTime().display}
// 결과: "• 발송 시간: 2025년 07월 27일 오후 02시 30분"
```

### 자동발송 시간 기록

```javascript
// 기존 (변경 전)
📧 자동발송: ${getCurrentKoreanTime()}

// 개선 (변경 후)
📧 자동발송: ${getEmailSendTime().display}
// 결과: "📧 자동발송: 2025년 07월 27일 오후 02시 30분"
```

## 📋 신청접수 시스템 적용

### 접수일시 기록

```javascript
// 기존 (변경 전)
📅 접수일시: ${getCurrentKoreanTime()}

// 개선 (변경 후)
📅 접수일시: ${getReceptionTime().display}
// 결과: "📅 접수일시: 2025년 07월 27일 (토) 오후 02시 30분 45초"
```

### 진단일시 기록

```javascript
// 기존 (변경 전)
📅 진단일시: ${getCurrentKoreanTime()}

// 개선 (변경 후)
📅 진단일시: ${getReceptionTime().display}
// 결과: "📅 진단일시: 2025년 07월 27일 (토) 오후 02시 30분 45초"
```

## 💾 데이터 저장 시스템 적용

### Google Sheets 저장시간

```javascript
// 진단신청, 상담신청, 베타피드백 데이터 저장 시
// 기존 (변경 전)
const timestamp = getCurrentKoreanTime();

// 개선 (변경 후)  
const timestamp = getReceptionTime().display;
// 결과: "2025년 07월 27일 (토) 오후 02시 30분 45초"
```

### PDF 발송시간 기록

```javascript
// 기존 (변경 전)
sheet.getRange(targetRow, 60).setValue(getCurrentKoreanTime());

// 개선 (변경 후)
sheet.getRange(targetRow, 60).setValue(getEmailSendTime().display);
// 결과: "2025년 07월 27일 오후 02시 30분"
```

## 🧪 시스템 테스트

### 테스트 함수 실행

```javascript
testKoreanTimeSystem()
```

### 테스트 결과 예시

```json
{
  "timestamp": "2025. 07. 27. 오후 02:30:45",
  "testName": "한국시간 시스템 테스트",
  "results": {
    "basicTime": {
      "function": "getCurrentKoreanTime()",
      "result": "2025. 07. 27. 오후 02:30:45",
      "status": "✅ 정상"
    },
    "emailTime": {
      "function": "getEmailSendTime()",
      "results": {
        "display": "2025년 07월 27일 오후 02시 30분",
        "log": "[2025-07-27 14:30:45 KST]",
        "simple": "07월 27일 오후 02시 30분"
      },
      "status": "✅ 정상"
    }
  },
  "overallStatus": "✅ 모든 한국시간 함수가 정상 작동",
  "summary": {
    "totalTests": 7,
    "passedTests": 7,
    "failedTests": 0
  }
}
```

## 📊 적용 완료 현황

### ✅ 완료된 적용 영역

1. **이메일 발송시간**
   - PDF 발송 완료 알림
   - 관리자 알림 이메일
   - 자동발송 시간 기록

2. **신청접수시간**
   - 진단신청 접수일시
   - 상담신청 접수일시
   - 베타피드백 접수일시
   - 진단일시 기록

3. **데이터 저장시간**
   - Google Sheets 타임스탬프
   - PDF 발송일시 기록
   - 로그 기록 시간

4. **파일 관련**
   - PDF 파일명 날짜
   - 테스트 파일 날짜

### 🎯 시간 형식 표준화

| 용도 | 형식 | 예시 |
|------|------|------|
| 이메일 표시 | `yyyy년 MM월 dd일 a hh시 mm분` | 2025년 07월 27일 오후 02시 30분 |
| 접수시간 표시 | `yyyy년 MM월 dd일 (E) a hh시 mm분 ss초` | 2025년 07월 27일 (토) 오후 02시 30분 45초 |
| 데이터 저장 | `yyyy-MM-dd HH:mm:ss` | 2025-07-27 14:30:45 |
| 파일명 | `yyyyMMdd_HHmmss` | 20250727_143045 |
| 로그 기록 | `[yyyy-MM-dd HH:mm:ss KST]` | [2025-07-27 14:30:45 KST] |

## 🔧 사용법 및 주의사항

### 올바른 사용법

```javascript
// ✅ 이메일 발송시간 기록
const emailTime = getEmailSendTime();
console.log(`발송 완료: ${emailTime.display}`);

// ✅ 접수시간 기록
const receptionTime = getReceptionTime();
console.log(`접수일시: ${receptionTime.display}`);

// ✅ 개별 요소 접근
const components = getKoreanTimeComponents();
console.log(`${components.year}년 ${components.month}월 ${components.day}일`);
```

### 주의사항

1. **시간대 일관성**: 모든 시간은 한국시간(KST, UTC+9) 기준
2. **형식 통일**: 각 용도에 맞는 형식 함수 사용
3. **백업 처리**: 오류 시 백업 시간 시스템 작동
4. **테스트 필수**: 새로운 기능 추가 시 `testKoreanTimeSystem()` 실행

## 🚀 향후 확장 가능성

### 추가 가능한 기능

1. **다중 시간대 지원**: 해외 사용자를 위한 다중 시간대 처리
2. **시간 계산 함수**: 경과 시간, 남은 시간 계산
3. **비즈니스 시간 함수**: 영업시간, 휴일 처리
4. **시간 형식 커스터마이징**: 사용자 정의 시간 형식

---

**마지막 업데이트:** 2025년 7월 27일  
**개발 완료:** AI CAMP 한국시간 처리 시스템 통합 완료 